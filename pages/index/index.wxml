<!--index.wxml-->
<!-- 自定义导航栏，添加自定义样式类 -->
<navigation-bar 
  title="AI绘画"
  back="{{false}}"
  color="black"
  background="#FFF"
  class="custom-nav">
</navigation-bar>

<!-- 可滚动区域 -->
<scroll-view class="scrollarea" scroll-y type="list">
  <view class="container">
    <!-- 输入区域 -->
    <view class="input-section">
      <textarea 
        class="text-input" 
        placeholder="请输入图片描述，让AI为您绘制..." 
        bindinput="handleInput"
        value="{{inputText}}"
        maxlength="200"
        adjust-position="{{true}}"
        show-confirm-bar="{{false}}"
        hold-keyboard="{{false}}"
        auto-focus="{{false}}"
      />
      <view class="word-count">{{inputText.length || 0}}/200</view>
      <button 
        class="submit-btn {{!canSubmit ? 'disabled' : ''}}"
        bindtap="handleSubmit"
        loading="{{loading}}"
        disabled="{{!canSubmit || loading}}"
      >
        <text class="btn-text">{{loading ? '生成中...' : '生成图片'}}</text>
      </button>
    </view>
    
    <!-- 图片展示区域 -->
    <view class="image-section" wx:if="{{imageUrl}}">
      <image 
        class="generated-image" 
        src="{{imageUrl}}" 
        mode="widthFix"
        bind:tap="previewImage"
      />
      <view class="image-actions">
        <button class="action-btn" bindtap="saveImage">保存到相册</button>
        <button class="action-btn share" open-type="share">分享</button>
      </view>
    </view>
  </view>
</scroll-view>

<!-- 修改底部免责声明 -->
<view class="disclaimer">AI生成内容仅供参考，不代表本平台观点</view>
